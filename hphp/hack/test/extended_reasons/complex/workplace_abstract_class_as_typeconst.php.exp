error: Typing[4110] Invalid argument

 36 |   $ak = new ExampleArraykeyClass();
 37 |   $ak->addToContainer(»1«);
 38 | }

File "workplace_abstract_class_as_typeconst.php", line 37, character 23 - line 37, character 23:

Expected `ContainerClass::TType`

 13 |   public function addToContainer(»this::TContainerClass::TType« $val): void {
 14 |     $this->container?->add($val);
 15 |   }

File "workplace_abstract_class_as_typeconst.php", line 13, character 34 - line 13, character 61:

But got `int`

 36 |   $ak = new ExampleArraykeyClass();
 37 |   $ak->addToContainer(»1«);
 38 | }

File "workplace_abstract_class_as_typeconst.php", line 37, character 23 - line 37, character 23:

Step 1 of 2

I started by checking this subtype relationship.

The subtype comes from this function or method declaration

 13 |   public function »addToContainer«(this::TContainerClass::TType $val): void {
 14 |     $this->container?->add($val);
 15 |   }

File "workplace_abstract_class_as_typeconst.php", line 13, character 19 - line 13, character 32:

The supertype comes from this expression

 36 |   $ak = new ExampleArraykeyClass();
 37 |   »$ak->addToContainer(1)«;
 38 | }

File "workplace_abstract_class_as_typeconst.php", line 37, character 3 - line 37, character 24:

Step 2 of 2

These are function types so next I checked the 1st function parameter of the supertype and subtype were subtypes (functions are contravariant in their parameters so the direction of the subtype relationship is reversed).

This step is the cause of the error.

The subtype comes from this expression

 36 |   $ak = new ExampleArraykeyClass();
 37 |   $ak->addToContainer(»1«);
 38 | }

File "workplace_abstract_class_as_typeconst.php", line 37, character 23 - line 37, character 23:

The supertype comes from this this type constant

 13 |   public function addToContainer(this::TContainerClass::»TType« $val): void {
 14 |     $this->container?->add($val);
 15 |   }

File "workplace_abstract_class_as_typeconst.php", line 13, character 57 - line 13, character 61:

1 error found.
